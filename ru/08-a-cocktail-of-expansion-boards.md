Попробуйте коктейль проектов
============================
Это первая, из серии, статья, призвана помочь создавать платы расширения для Raspberry Pi и использовать порты ввода-вывода вашего Pi.

Уровень сложности: продвинутый

Lloyd Seaton

* * *
Предисловие
--------------
Эти достаточно сложные проекты -- новичкам будет сложно их реализовать. Для них нету готовых наборов. Необходимые электрокомпоненты вам прийдеться искать и заказывать самостоятельно. Но, перечень компонентов и их поставщиков будет известен.


Оптом дешевле
--------------
Цена на електрокомпоненты очень зависит от их количества при заказе. В своих проектах, участники могут существенно сэкономить объединившись с единомышленниками по школе, увлеченными Raspperry Pi, либо с другими компаниями, для общего заказа электрокомпонентов.

Печатные платы
--------
Большинство конструкторов не хотят заниматься проектированием и выпуском печатных плат с высокой степенью сложности. Вот причина написания цикла этих статей. Собрав проекты с разнообразными схемами печатных плат в "одну кучу", можно существенно сэкономить. 
Особенно если участники объединяться, по 2-3 или больше, вокруг однотипных заказов.

Стратегия производства печатных плат
--------------------------
Автор статьи начал участвовать в разработке малых сборок печатных плат в конце 2001, когда он решил разрабатывать контроллер насосов для хозяйств с питанием на солнечных батареях.

Вскоре стало очевидно, что стоимость производства плат нужно уменьшать, и было принято решение воспользоваться услугой Mini Board Pro от ExpressPCB, а ещё проектировать платы таким образом, чтобы на одном фабричном листе умещалось несколько (в начале 2-3) плат. После получения заказа лист разрезался, а затем производилась непосредственно сборка. Эта стратегий позволила снизить стоимость производства каждой платы до 15A$, это вполне приемлимая цена.

Недавно был произведён редезайн контроллера (с помощью Raspberry Pi), и теперь он работает на микроконтроллере ATtiny85 вместо чисто аналоговой схемы. Это позволило уместить 6 плат на одном листе и ещё больше снизить цену до 7.50$, это просто замечательно.


Список проектов
---------------
В течении следующих месяцев планируется осветить следующие проекты:

1. Power I/O
2. Tiny I/O
3. MegaPower
4. Pi Bridge ICSP Interconnect
5. Battery Load Manager 85
6. BatteryLoadManager+

Краткое описание каждого из них приведено ниже.


Power I/O
---------
Включает в себя шестнадцатеричный круговой переключатель, 7 драйверов Дарлингтона со светодиодными индикаторами, и обеспечивает буферизованный доступ к GPIO портам Pi. Дополнительно можно включить импульсный регулятор напряжения, чтобы Raspberry Pi мог работать от истоичника постоянного напряжения 7-20В.


Tiny I/O
--------
Эта плата может содержать микроконтроллер ATtiny84, 7 драйверов Дарлингтона со светодиодными индикаторами, и будет обеспечивать для вас буферизованный доступ к GPIO.


MegaPower
---------
Эта плата подойдёт тем людям, которые предпочтут микроконтроллер ATmega328 с 4 индикаторными светодиодами, 7 драйверами Дарлингтона и питанием 5В (для совместимости по напряжению) вместо GPIO. Это устройство может работать как в тесной интеграции с Raspberry Pi, так и само по себе. Будучи сопряжённым с Raspberry Pi, импусльный источник питания MegaPower может обеспечивать саму MegaPower, и Raspberry Pi от источника постоянного тока 7-20В. Если это не нужно, элементы источника питания можно опустить, тогда микроконтроллер MegaPower будет питаться от Raspbery Pi.


Pi Bridge ICSP Interconnect
---------------------------
Маленькая печатная плата (2x1.5 см) позволяет Raspberry Pi подключиться для программирования Battery Load Manager 85,
BatteryLoadManager+ или некоторых плат Arduino, без использования соединительных проводов.


Battery Load Manager 85
-----------------------
Печатная плата размером 1.25" x 1.25" представляет собой самостоятеьное устрйоство на ATtiny85, которое можно программировать через Pi Bridge ICSP Interconnect и Raspberry Pi настроенными на ней Gordon Henderson's Arduino IDE и расширениями для поддержки ATtiny.

Схема позволяет следить за напряжением батареи, плюс любое другое напряжение опционально, и управление нагрузкой с высоким потреблением тока согласно правилам, зашитым через скетч Arduino. Также в наличии 3 индикаторных светодиода.

В качестве примера будет представлен скетч Arduino для контроллера насоса на солнечных батареях.


BatteryLoadManager+
-------------------
Устройство разработано на основе ATtiny84, работающего самостоятельно, и имеет размеры 1.9" x 1.25". Имеет то же назнечение, что и Battery Load Manager 85, но обаладет более широкими возможностями. Лишние ножки ввода-вывода выведены на лицевую сторону платы, это делает разработку более гибкой.


The Cocktails - What's In The Mix?
----------------------------------
Решения "всё-в-одном" редко оказываются достаточно подходящими. Чтобы помочь конструкторам в экономном производстве устройств, будет выпущено множество файлов-"коктейлей", доступные каждому. Например, если вам не очень нужны проекты на самомтоятельных ATtiny, выбирать коктейль с акцентом на Battery Load Manager будет неэффективно.

На следующей фотографии показана работа ExpressPCB Mini Board Pro. Каждая из 3 выпущенных печатных плат имеет размеры 2.5" x 3.8" и в принципе не может иметь более 350 отверстий. На этих заготовках будут реализованы два разных проекта: Tiny I/O и MegaPower. Для этого прочерчены линии отреза, вы можете увидеть их на снимке.


Процедура заказа производства печатных плат
-------------------------------------------
Прежде чем заказать печатные платы, вам необходимо установить ExpressPCB CAD на компьютере с доступом в Интернет. Программа бесплатная и предназначена для Windows, но работает и в Linux под Wine. Вам нужно выбрать файл cocktail, скачать и открыть его в ExpressPCB. Дальнейшая процедура простая и хорошо описана в информационном блоге.


Информационный блог
-------------------
В Интернете открылся блог picocktails.blogspot.com, где вы можете почерпнуть актуальную информацию для конструкторов представленных проектов: ссылки на чертежи, файлы, фотоальбомы, тестовые программы и многое другое.
