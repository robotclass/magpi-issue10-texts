Попробуйте коктейль проектов
============================
Это первая, из серии, статья, призвана помочь создавать платы расширения для Raspberry Pi и использовать порты ввода-вывода вашего Pi.

Уровень сложности: продвинутый

Lloyd Seaton

* * *
Предисловие
--------------
Эти достаточно сложные проекты -- новичкам будет сложно их реализовать. Для них нету готовых наборов. Необходимые электрокомпоненты вам придется искать и заказывать самостоятельно. Но, перечень компонентов и их поставщиков будет известен.


Оптом дешевле
--------------
Цена на электрокомпоненты очень зависит от их количества при заказе. В своих проектах, участники могут существенно сэкономить объединившись с единомышленниками по школе, увлеченными Raspperry Pi, либо с другими компаниями, для общего заказа электрокомпонентов.

Печатные платы
--------
Большинство разработчиков не хотят заниматься проектированием и выпуском печатных плат с высокой степенью сложности. Вот причина написания цикла этих статей. Собрав проекты с разнообразными схемами печатных плат в "одну кучу", можно существенно сэкономить. 
Особенно если участники объединяться, по 2-3 или больше, вокруг однотипных заказов.


Стратегия производства печатных плат
--------------------------
Автор приступил к разработке и конструировании небольших печатных монтажных плат в конце 2011, когда он решил разработать контроллер для управления насосами с питанием от солнечных батарей, для нужд ферм. Вскоре стало очевидно, что стоимость производства плат нужно уменьшать - было принято решение воспользоваться услугой Mini Board Pro от ExpressPCB и проектировать платы так, чтобы на одном фабричном листе умещалось несколько (в начале 2, позже 3) плат. Проект плат был разработан так что сначала лист до выполнялся монтаж. Эта стратегия снизила стоимость каждой платы до 15 австралийских долларов, а это приемлемая цена. Недавно дизайн контроллера был переделан (с помощью Raspberry Pi), и теперь он работает на микроконтроллере ATtiny85, в отличии от предыдущей, чисто аналоговой схемы. Так что это позволило уместить 6 плат на одном листе и снизить цену вдвое, до 7.50$, очень хорошая цена.


Проекты
---------------
В течении следующих месяцев будут описаны следующие проекты печатных плат:

1. Power I/O
2. Tiny I/O
3. MegaPower
4. Pi Bridge ICSP Interconnect
5. Battery Load Manager 85
6. BatteryLoadManager+

Краткое описание каждого из них приведено ниже.


Power I/O
---------
Включает в себя шестнадцатеричный поворотный переключатель, 7 драйверов Дарлингтона со светодиодными индикаторами и буферизованный доступ к GPIO портам Pi. Дополнительно можно добавить импульсный регулятор напряжения, чтобы Raspberry Pi мог работать от источника постоянного тока напряжением от 7 до 20В.


Tiny I/O
--------
Эта плата может содержать микроконтроллер ATtiny84, 7 драйверов Дарлингтона со светодиодными индикаторами, и буферизованный доступ к GPIO.


MegaPower
---------
Эта плата для тех кому не интересно использовать GPIO Raspberry Pi, но предпочтут микроконтроллер ATmega328 с 4-мя светодиодами, 7 драйверами Дарлингтона и  рабочим питанием 5В для широкой совместимости по напряжению. Это устройство может работать как в тесной интеграции с Raspberry Pi, так и само по себе. Будучи сопряжённым с Raspberry Pi, импульсный источник питания MegaPower может обеспечивать и саму плату, и Raspberry Pi, от источника постоянного тока 7 ~ 20В. Если это не нужно, элементы источника питания можно  не использовать, позволив ATmega328 питаться от источника питания Raspbery Pi.


Pi Bridge ICSP Interconnect
---------------------------
Маленькая печатная плата (2x1.5 см) позволяет подключить Raspberry Pi для программирования Battery Load Manager 85,
BatteryLoadManager+ или некоторых плат Arduino, без использования перемычек.

Battery Load Manager 85
-----------------------
Печатная плата размером 3,2x3,2 см., представляет собой самостоятельное устройство на ATtiny85, которое можно программировать через Pi Bridge ICSP Interconnect и Raspberry Pi с Arduino IDE и расширениями для поддержки ATtiny. Схема позволяет следить за напряжением батареи (а также другое напряжение) и управление нагрузкой с высоким потреблением тока согласно правилам, запрограммированным через скетч Arduino. На плате есть 3 светодиода для индикации. Демонстрационный скетч на Arduino может использоваться как контролер насоса с питанием от солнечной батареи.  

BatteryLoadManager+
-------------------
Печатная плата (4,8x3,2 см.) разработана как самостоятельное устройство на основе ATtiny84, такое же как и Battery Load Manager 85 но имеет дополнительные возможности. Выведены дополнительные  I/O пины ATtiny84 для расширения возможностей устройства.


Коктейли - Что в них намешано?
----------------------------------
Один формат вряд ли устроит всех. Его предназначение помочь сэкономить при заказе печатных план, и будет доступен выбор коктейль-файлов, таких, что бы разработчик или группа разработчиков могли выбрать наиболие подходящий для себя проект. Например, если разработчику не совсем подходят самостоятельные печатные платы с ATtiny, то по соотношению площадь/цена ему не будет выгодно брать проект Battery Load Manager.

На изображении ниже поставка от ExpressPCB Mini Board Pro. Каждая из 3-х печатных плат размером 6,35 x 9,65 см. и может иметь не больше чем 350 отверстий. Из выпущенных печатных плат выйдет по два разных проекта которые совпадают по размеру своей платы: одна для Tiny I/O, другая для MegaPower. И еще на платах отпечатаны линии распила. 


Процедура заказа печатных плат
-------------------------------------------
Прежде чем заказать печатные платы, вам необходимо установить ExpressPCB CAD на компьютере с доступом в Интернет. Программа бесплатно скачивается из интернета и предназначена для Windows, но автор успешно запускает ее с помощью Wine в Linux. Затем вам нужно выбрать коктейль-файл, скачать и открыть его в ExpressPCB. Размещение заказа достаточно простая процедура, которая полностью описана в информационном блоге.


Информационный блог
-------------------
В Интернете открылся блог picocktails.blogspot.com, в котором вы можете почерпнуть актуальную информацию о представленных проектах. Ссылки на чертежи, файлы, фотоальбомы, тестовые программы и многое другое вы с легкостью найдете в блоге.
